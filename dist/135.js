"use strict";(self.webpackChunkwebtuitor2=self.webpackChunkwebtuitor2||[]).push([[135],{7135:(b,g,l)=>{l.r(g),l.d(g,{UserModule:()=>q});var p=l(6895),c=l(7370),e=l(6738),d=l(6064);let h=(()=>{class o{constructor(i,r){this.router=i,this.authService=r}canActivate(){const i=this.authService.isAuthenticated;return i&&this.router.navigate(["home"]),!i}static#e=this.\u0275fac=function(r){return new(r||o)(e.LFG(c.F0),e.LFG(d.e))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})();var f=l(1422),n=l(4719);function v(o,u){1&o&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}function _(o,u){1&o&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}function Z(o,u){1&o&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}function T(o,u){1&o&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}function w(o,u){1&o&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}function C(o,u){1&o&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}const U=[{path:"user/login",component:(()=>{class o{constructor(i,r,t){this.route=i,this.authservice=r,this.cookieService=t}login(i){let r="localhost",a=new Date,m=new Date;m.setTime(a.getTime()+18e5),this.authservice.loginUser(i.userName,i.password),this.cookieService.set("currentUser",JSON.stringify(this.authservice.currentUser),m,"/",r,!0,"None"),this.cookieService.set("token",JSON.stringify(this.authservice.currentUser.password),m,"/",r,!0,"None"),this.route.navigate(["/home"])}cancel(){this.route.navigate(["/home"])}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(c.F0),e.Y36(d.e),e.Y36(f.N))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:22,vars:3,consts:[[1,"container","min-vh-100"],[1,"m-4"],[1,"col-lg-4","col-xs-6","m-md-5"],["autocomplete","off","novalidate","",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["for","userName"],[4,"ngIf"],["required","","name","userName","id","userName","type","text","placeholder","User Name...",1,"form-control",3,"ngModel"],["for","password"],["required","","name","password","id","password","type","password","placeholder","Password...",1,"form-control",3,"ngModel"],[3,"mouseenter","mouseleave"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["type","button",1,"btn","btn-outline-danger","ml-1",3,"click"]],template:function(r,t){if(1&r){const s=e.EpF();e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Login"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",2)(5,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(s);const m=e.MAs(6);return e.KtG(t.login(m.value))}),e.TgZ(7,"div",5)(8,"label",6),e._uU(9,"User Name:"),e.qZA(),e.YNc(10,v,2,0,"em",7),e.TgZ(11,"input",8),e.NdJ("ngModel",function(){return t.userName}),e.qZA()(),e.TgZ(12,"div",5)(13,"label",9),e._uU(14,"Password:"),e.qZA(),e.YNc(15,_,2,0,"em",7),e.TgZ(16,"input",10),e.NdJ("ngModel",function(){return t.password}),e.qZA()(),e.TgZ(17,"span",11),e.NdJ("mouseenter",function(){return t.mouseoverLogin=!0})("mouseleave",function(){return t.mouseoverLogin=!1}),e.TgZ(18,"button",12),e._uU(19,"Login"),e.qZA()(),e.TgZ(20,"button",13),e.NdJ("click",function(){return t.cancel()}),e._uU(21,"Cancel"),e.qZA()()()()}if(2&r){const s=e.MAs(6);e.xp6(10),e.Q6J("ngIf",(null==s.controls.userName?null:s.controls.userName.invalid)&&(s.controls.userName.touched||t.mouseoverLogin)),e.xp6(5),e.Q6J("ngIf",(null==s.controls.password?null:s.controls.password.invalid)&&(s.controls.password.touched||t.mouseoverLogin)),e.xp6(3),e.Q6J("disabled",s.invalid)}},dependencies:[p.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.On,n.F],styles:["em[_ngcontent-%COMP%]{color:#da0f0f;float:right}"]})}return o})(),canActivate:[h]},{path:"user/profile",component:(()=>{class o{constructor(i,r,t){this.router=i,this.authService=r,this.cookieService=t}ngOnInit(){this.profileForm=new n.cw({firstName:new n.NI(this.authService.currentUser.firstName,n.kI.required),lastName:new n.NI(this.authService.currentUser.lastName,n.kI.required),userName:new n.NI(this.authService.currentUser.userName,n.kI.required),password:new n.NI(this.authService.currentUser.password,n.kI.required),confirmPassword:new n.NI(this.authService.currentUser.password,n.kI.required)})}saveProfile(i){let s=new Date,a=new Date;a.setTime(s.getTime()+18e5),this.cookieService.set("currentUser",JSON.stringify(this.authService.currentUser),a,"/","",!0,"None"),this.cookieService.set("token",JSON.stringify(this.authService.currentUser.password),a,"/","",!0,"None"),this.authService.updateCurrentUser(i.firstName,i.lastName,i.userName,i.password),this.router.navigate(["/home"]),window.scrollTo(0,0)}cancelEdit(){this.router.navigate(["/home"]),window.scrollTo(0,0)}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(c.F0),e.Y36(d.e),e.Y36(f.N))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:31,vars:6,consts:[[1,"container","min-vh-100"],[1,"m-4"],[1,"col-lg-4","col-xs-6","m-md-5"],["autocomplete","off","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],[4,"ngIf"],["required","","formControlName","firstName","name","firstName","id","firstName","type","text","placeholder","First Name...",1,"form-control"],["for","lastName"],["required","","formControlName","lastName","name","lastName","id","lastName","type","text","placeholder","Last Name......",1,"form-control"],["for","userName"],["required","","formControlName","userName","name","userName","id","userName","type","text","placeholder","User Name...",1,"form-control"],["for","password"],["required","","formControlName","password","name","password","id","password","type","password","placeholder","Password...",1,"form-control"],[3,"mouseenter","mouseleave"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["type","button",1,"btn","btn-outline-danger","ml-1",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Profile"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",2)(5,"form",3),e.NdJ("ngSubmit",function(){return t.saveProfile(t.profileForm.value)}),e.TgZ(6,"div",4)(7,"label",5),e._uU(8,"First Name"),e.qZA(),e.YNc(9,Z,2,0,"em",6),e._UZ(10,"input",7),e.qZA(),e.TgZ(11,"div",4)(12,"label",8),e._uU(13,"Last Name"),e.qZA(),e.YNc(14,T,2,0,"em",6),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"div",4)(17,"label",10),e._uU(18,"User Name:"),e.qZA(),e.YNc(19,w,2,0,"em",6),e._UZ(20,"input",11),e.qZA(),e.TgZ(21,"div",4)(22,"label",12),e._uU(23,"Password:"),e.qZA(),e.YNc(24,C,2,0,"em",6),e._UZ(25,"input",13),e.qZA(),e.TgZ(26,"span",14),e.NdJ("mouseenter",function(){return t.mouseoverLogin=!0})("mouseleave",function(){return t.mouseoverLogin=!1}),e.TgZ(27,"button",15),e._uU(28,"Save"),e.qZA()(),e.TgZ(29,"button",16),e.NdJ("click",function(){return t.cancelEdit()}),e._uU(30,"Cancel"),e.qZA()()()()),2&r&&(e.xp6(5),e.Q6J("formGroup",t.profileForm),e.xp6(4),e.Q6J("ngIf",(null==t.firstName?null:t.firstName.invalid)&&(t.firstName.touched||t.mouseoverLogin)),e.xp6(5),e.Q6J("ngIf",(null==t.lastName?null:t.lastName.invalid)&&(t.lastName.touched||t.mouseoverLogin)),e.xp6(5),e.Q6J("ngIf",(null==t.userName?null:t.userName.invalid)&&(t.userName.touched||t.mouseoverLogin)),e.xp6(5),e.Q6J("ngIf",(null==t.password?null:t.password.invalid)&&(t.password.touched||t.mouseoverLogin)),e.xp6(3),e.Q6J("disabled",t.profileForm.invalid))},dependencies:[p.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u],styles:["em[_ngcontent-%COMP%]{float:right;color:#e05c65;padding-left:10px}.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#e3c3c5}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#fff}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-input-placeholder{color:#fff}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-input-placeholder{color:#fff}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:ms-input-placeholder{color:#fff}"]})}return o})()}];let q=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({providers:[f.N,h],imports:[p.ez,n.u5,n.UX,c.Bz.forChild(U)]})}return o})()}}]);