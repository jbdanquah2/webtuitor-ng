"use strict";(self.webpackChunkwebtuitor2=self.webpackChunkwebtuitor2||[]).push([[135],{7135:(b,g,l)=>{l.r(g),l.d(g,{UserModule:()=>q});var c=l(9808),m=l(661),e=l(2096),p=l(6064);let h=(()=>{class t{constructor(n,o){this.router=n,this.authService=o}canActivate(){const n=this.authService.isAuthenticated;return n&&this.router.navigate(["home"]),!n}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(m.F0),e.LFG(p.e))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var d=l(1422),r=l(4182);function v(t,s){1&t&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}function _(t,s){1&t&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}function Z(t,s){1&t&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}function C(t,s){1&t&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}function T(t,s){1&t&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}function U(t,s){1&t&&(e.TgZ(0,"em"),e._uU(1,"required"),e.qZA())}const w=[{path:"user/login",component:(()=>{class t{constructor(n,o,i){this.route=n,this.authservice=o,this.cookieService=i}login(n){let o="localhost",u=new Date,f=new Date;f.setTime(u.getTime()+18e5),this.authservice.loginUser(n.userName,n.password),this.cookieService.set("currentUser",JSON.stringify(this.authservice.currentUser),f,"/",o,!0,"None"),this.cookieService.set("token",JSON.stringify(this.authservice.currentUser.password),f,"/",o,!0,"None"),this.route.navigate(["/home"])}cancel(){this.route.navigate(["/home"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.F0),e.Y36(p.e),e.Y36(d.N))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:22,vars:3,consts:[[1,"container","min-vh-100"],[1,"m-4"],[1,"col-lg-4","col-xs-6","m-md-5"],["autocomplete","off","novalidate","",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["for","userName"],[4,"ngIf"],["required","","name","userName","id","userName","type","text","placeholder","User Name...",1,"form-control",3,"ngModel"],["for","password"],["required","","name","password","id","password","type","password","placeholder","Password...",1,"form-control",3,"ngModel"],[3,"mouseenter","mouseleave"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["type","button",1,"btn","btn-outline-danger","ml-1",3,"click"]],template:function(n,o){if(1&n){const i=e.EpF();e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Login"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",2)(5,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(i);const u=e.MAs(6);return e.KtG(o.login(u.value))}),e.TgZ(7,"div",5)(8,"label",6),e._uU(9,"User Name:"),e.qZA(),e.YNc(10,v,2,0,"em",7),e.TgZ(11,"input",8),e.NdJ("ngModel",function(){return o.userName}),e.qZA()(),e.TgZ(12,"div",5)(13,"label",9),e._uU(14,"Password:"),e.qZA(),e.YNc(15,_,2,0,"em",7),e.TgZ(16,"input",10),e.NdJ("ngModel",function(){return o.password}),e.qZA()(),e.TgZ(17,"span",11),e.NdJ("mouseenter",function(){return o.mouseoverLogin=!0})("mouseleave",function(){return o.mouseoverLogin=!1}),e.TgZ(18,"button",12),e._uU(19,"Login"),e.qZA()(),e.TgZ(20,"button",13),e.NdJ("click",function(){return o.cancel()}),e._uU(21,"Cancel"),e.qZA()()()()}if(2&n){const i=e.MAs(6);e.xp6(10),e.Q6J("ngIf",(null==i.controls.userName?null:i.controls.userName.invalid)&&(i.controls.userName.touched||o.mouseoverLogin)),e.xp6(5),e.Q6J("ngIf",(null==i.controls.password?null:i.controls.password.invalid)&&(i.controls.password.touched||o.mouseoverLogin)),e.xp6(3),e.Q6J("disabled",i.invalid)}},dependencies:[c.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F],styles:["em[_ngcontent-%COMP%]{color:#da0f0f;float:right}"]}),t})(),canActivate:[h]},{path:"user/profile",component:(()=>{class t{constructor(n,o,i){this.router=n,this.authService=o,this.cookieService=i}ngOnInit(){this.profileForm=new r.cw({firstName:new r.NI(this.authService.currentUser.firstName,r.kI.required),lastName:new r.NI(this.authService.currentUser.lastName,r.kI.required),userName:new r.NI(this.authService.currentUser.userName,r.kI.required),password:new r.NI(this.authService.currentUser.password,r.kI.required),confirmPassword:new r.NI(this.authService.currentUser.password,r.kI.required)})}saveProfile(n){let a=new Date,u=new Date;u.setTime(a.getTime()+18e5),this.cookieService.set("currentUser",JSON.stringify(this.authService.currentUser),u,"/","",!0,"None"),this.cookieService.set("token",JSON.stringify(this.authService.currentUser.password),u,"/","",!0,"None"),this.authService.updateCurrentUser(n.firstName,n.lastName,n.userName,n.password),this.router.navigate(["/home"]),window.scrollTo(0,0)}cancelEdit(){this.router.navigate(["/home"]),window.scrollTo(0,0)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.F0),e.Y36(p.e),e.Y36(d.N))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:31,vars:6,consts:[[1,"container","min-vh-100"],[1,"m-4"],[1,"col-lg-4","col-xs-6","m-md-5"],["autocomplete","off","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],[4,"ngIf"],["required","","formControlName","firstName","name","firstName","id","firstName","type","text","placeholder","First Name...",1,"form-control"],["for","lastName"],["required","","formControlName","lastName","name","lastName","id","lastName","type","text","placeholder","Last Name......",1,"form-control"],["for","userName"],["required","","formControlName","userName","name","userName","id","userName","type","text","placeholder","User Name...",1,"form-control"],["for","password"],["required","","formControlName","password","name","password","id","password","type","password","placeholder","Password...",1,"form-control"],[3,"mouseenter","mouseleave"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["type","button",1,"btn","btn-outline-danger","ml-1",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Profile"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",2)(5,"form",3),e.NdJ("ngSubmit",function(){return o.saveProfile(o.profileForm.value)}),e.TgZ(6,"div",4)(7,"label",5),e._uU(8,"First Name"),e.qZA(),e.YNc(9,Z,2,0,"em",6),e._UZ(10,"input",7),e.qZA(),e.TgZ(11,"div",4)(12,"label",8),e._uU(13,"Last Name"),e.qZA(),e.YNc(14,C,2,0,"em",6),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"div",4)(17,"label",10),e._uU(18,"User Name:"),e.qZA(),e.YNc(19,T,2,0,"em",6),e._UZ(20,"input",11),e.qZA(),e.TgZ(21,"div",4)(22,"label",12),e._uU(23,"Password:"),e.qZA(),e.YNc(24,U,2,0,"em",6),e._UZ(25,"input",13),e.qZA(),e.TgZ(26,"span",14),e.NdJ("mouseenter",function(){return o.mouseoverLogin=!0})("mouseleave",function(){return o.mouseoverLogin=!1}),e.TgZ(27,"button",15),e._uU(28,"Save"),e.qZA()(),e.TgZ(29,"button",16),e.NdJ("click",function(){return o.cancelEdit()}),e._uU(30,"Cancel"),e.qZA()()()()),2&n&&(e.xp6(5),e.Q6J("formGroup",o.profileForm),e.xp6(4),e.Q6J("ngIf",(null==o.firstName?null:o.firstName.invalid)&&(o.firstName.touched||o.mouseoverLogin)),e.xp6(5),e.Q6J("ngIf",(null==o.lastName?null:o.lastName.invalid)&&(o.lastName.touched||o.mouseoverLogin)),e.xp6(5),e.Q6J("ngIf",(null==o.userName?null:o.userName.invalid)&&(o.userName.touched||o.mouseoverLogin)),e.xp6(5),e.Q6J("ngIf",(null==o.password?null:o.password.invalid)&&(o.password.touched||o.mouseoverLogin)),e.xp6(3),e.Q6J("disabled",o.profileForm.invalid))},dependencies:[c.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u],styles:["em[_ngcontent-%COMP%]{float:right;color:#e05c65;padding-left:10px}.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#e3c3c5}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#fff}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-input-placeholder{color:#fff}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-input-placeholder{color:#fff}.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:ms-input-placeholder{color:#fff}"]}),t})()}];let q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[d.N,h],imports:[c.ez,r.u5,r.UX,m.Bz.forChild(w)]}),t})()}}]);