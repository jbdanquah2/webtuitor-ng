<div class="container min-vh-100">

  <h1 class="m-4">Edit HowTo</h1>
  <hr>
  <div class="col-lg-8 col-xs-6 m-md-5">
    <form [formGroup]="editHowtoForm"  autocomplete="off" novalidate>
      <div class="form-group">
        <img *ngIf="imgPreview" style="max-height: 350px; max-width: 700px" [src]="imgPreview" alt="selected display image">
      </div>
      <div class="form-group">
        <label for="title">Title:</label>
        <em class="notice" *ngIf="editHowtoForm.controls?.title?.invalid && (editHowtoForm.controls?.title?.touched) "> required</em>
        <input required formControlName="title" id="title" type="text" class="form-control"
               placeholder="title..." />
      </div>

      <div class="form-group">
        <label for="description">Short Description:</label>
        <em class="notice" *ngIf="editHowtoForm.controls?.description?.invalid && (editHowtoForm.controls?.description?.touched) "> required</em>
        <input required  formControlName="description" id="description" type="text" class="form-control"
               placeholder="description..." />
      </div>

      <div class="form-group">
        <label for="url">URL:</label>
        <em class="notice" *ngIf="editHowtoForm.controls?.url?.invalid && (editHowtoForm.controls?.url?.touched) "> required</em>
        <input required formControlName="url" id="url" type="text" class="form-control"
               placeholder="url..." />
      </div>

      <div class="form-group">
        <label for="category">Select Category (Optional):</label>
        <em class="notice" *ngIf="editHowtoForm.controls?.category?.invalid && (editHowtoForm.controls?.category?.touched)">
          required
        </em>
        <select required formControlName="category" id="category" class="form-control">
          <option value="" disabled selected>category</option>
          <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="related">Select Related Read (Optional):</label>
        <em class="notice" *ngIf="editHowtoForm.controls?.related?.invalid && (editHowtoForm.controls?.related?.touched)">
          required
        </em>
        <select formControlName="related" id="related" class="form-control">
          <option value="" disabled selected>related howto</option>
          <option *ngFor="let related of relatedHowtos" [value]="related?.id">{{ related?.title }}</option>
        </select>
      </div>


      <div class="form-group">
        <label for="file">Select Image (Optional):</label>
        <em class="notice" *ngIf="editHowtoForm.controls?.file?.invalid && (editHowtoForm.controls?.file?.touched) "> required</em>
        <input (change)="onFileSelected($event)" formControlName="file" id="file" type="file" accept="image/png, image/jpeg, .svg, image/svg+xml" class="form-control" />
      </div>

      <div class="form-group">
        <label for="tags">Tags:</label>
        <em class="notice" *ngIf="editHowtoForm.controls?.tags?.invalid && (editHowtoForm.controls?.tags?.touched)"> required</em>
        <input required  formControlName="tags" id="tags" type="text" class="form-control"
               placeholder="tags... eg: tech,music,frontend,backend" />
      </div>

      <div class="form-group">
        <label for="tags">Total Read Time:</label>
        <em class="notice" *ngIf="editHowtoForm.controls?.totalTime?.invalid && (editHowtoForm.controls?.totalTime?.touched)"> required</em>
        <input required  formControlName="totalTime" id="totalTime" type="number" class="form-control" placeholder="total read time..." />
      </div>

      <div class="form-group">
        <label for="content">Write Your HowTo In Detail:</label>
        <em class="notice" *ngIf="editHowtoForm.controls?.content?.invalid && (editHowtoForm.controls?.content?.touched)"> required</em>

        <quill-editor placeholder="write the content here..." formControlName="content" id="content" [styles]="{height: '200px', resize: 'vertical', overflow: 'auto'}"></quill-editor>

      </div>
      <button (click)="saveHowto()" type="submit" [disabled]="editHowtoForm?.invalid" class="btn btn-outline-primary">Submit</button>
      <button (click)="cancel()" type="button" class="btn btn-outline-danger ml-1">Cancel</button>

    </form>
  </div>

</div>
