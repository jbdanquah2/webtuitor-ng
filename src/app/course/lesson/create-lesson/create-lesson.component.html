<div class="container min-vh-100">

  <h1 class="m-4">Add Lesson</h1>
  <h3>{{course?.title}}</h3>
  <hr>
  <div class="col-lg-8 col-xs-6 m-md-5">
    <form [formGroup]="createLessonForm"  autocomplete="off" novalidate>
      <div class="form-group">
        <img *ngIf="imgPreview" style="max-height: 350px; max-width: 700px" [src]="imgPreview" alt="selected display image">
      </div>
      <div class="form-group">
        <label for="title">Title:</label>
        <em class="notice" *ngIf="createLessonForm.controls?.title?.invalid && (createLessonForm.controls?.title?.touched) "> required</em>
        <input required formControlName="title" id="title" type="text" class="form-control"
               placeholder="title..." />
      </div>

      <div class="form-group">
        <label for="summary">Short Summary:</label>
        <em class="notice" *ngIf="createLessonForm.controls?.summary?.invalid && (createLessonForm.controls?.summary?.touched) "> required</em>
        <input required  formControlName="summary" id="summary" type="text" class="form-control"
               placeholder="summary..." />
      </div>

      <div class="form-group">
        <label for="url">URL:</label>
        <em class="notice" *ngIf="createLessonForm.controls?.url?.invalid && (createLessonForm.controls?.url?.touched) "> required</em>
        <input required formControlName="url" id="url" type="text" class="form-control"
               placeholder="url..." />
      </div>

      <div class="form-group">
        <label class="mb-0" for="file">Select Image (Optional):</label>
        <p class="text-muted p-0 m-0 font-italic">If no image is selected, a default image will be used</p>
        <em class="notice" *ngIf="createLessonForm.controls?.file?.invalid && (createLessonForm.controls?.file?.touched) "> required</em>
        <input (change)="onFileSelected($event)" formControlName="file" id="file" type="file" accept="image/png, image/jpeg, .svg, image/svg+xml" class="form-control" />
      </div>

      <div class="form-group">
        <label for="content">Write Your HowTo In Detail:</label>
        <em class="notice" *ngIf="createLessonForm.controls?.content?.invalid && (createLessonForm.controls?.content?.touched)"> required</em>
        <quill-editor placeholder="write the content here..." formControlName="content" id="content" [styles]="{height: '200px', resize: 'vertical', overflow: 'auto'}"></quill-editor>
      </div>

      <button (click)="submitLesson($event)" type="submit" [disabled]="createLessonForm?.invalid" class="btn btn-outline-primary">Submit</button>
      <button (click)="cancel()" type="button" class="btn btn-outline-danger ml-1">Cancel</button>

    </form>
  </div>

</div>
